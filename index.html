<html>
   
   <head>
   </head>
   <body>
     <div id="testResultsArea" style="font-size:24px;width:200px;height:200px;"></div>
     <button id="lookAheadTriggerButton">Look Ahead Triggering</button>
     <button id="directTriggerButton">Direct Protocol Triggering</button>
     <div id="hiddenIframeContainer" style="display:none"></div>
   </body>
   <script>
     const testResultsArea = document.getElementById("testResultsArea")
     var testProtocolWindow = undefined;
    
     function openAndWait(ms) {
       testProtocolWindow = window.open("masterintraining23.github.io/myappprotocol.html", "", "width=1,height=1,titlebar=yes,menubar=yes,status=yes,top=23,left=36");
       setTimeout(() => testExistence(), ms);
     }

     function testExistence() {
       try {
         console.log(testProtocolWindow.location.hostname);
         testResultsArea.innerHTML = "Application Exists! :)";
       } catch {
         testResultsArea.innerHTML = "Application Doesn't Exist. :(";
         console.log("failed");
       } finally {
         testProtocolWindow.close();
       }
     }
     
     function createProtocolIframe() {
       const iframe = document.createElement("iframe");
       iframe.src = "something://";
       return iframe;
     }
     
     const lookAheadButton = document.getElementById("lookAheadTriggerButton");
     lookAheadButton.addEventListener("click", () => openAndWait(75));
     
     const directButton = document.getElementById("directTriggerButton");
     const hiddenIframeContainer = document.getElementById("hiddenIframeContainer");
     directButton.addEventListener("click", () => {
       hiddenIframeContainer.append(createIframe());
     });
   </script>
</html>
